<nav class="top-nav" aria-label="Global">
  <div class="flex items-center justify-between py-3">
    <a class="flex-none text-xl font-semibold dark:text-white" href="/" aria-label="Brand">
      <img class="w-auto h-6 sm:h-7" src="/images/logo_developer@2x.png" />
    </a>

    <div class="sm:hidden">
      <button type="button" class="hs-collapse-toggle p-2 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800" data-hs-collapse="#navbar-collapse-with-animation" aria-controls="navbar-collapse-with-animation" aria-label="Toggle navigation">
        <svg class="hs-collapse-open:hidden w-4 h-4" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
        </svg>
        <svg class="hs-collapse-open:block hidden w-4 h-4" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
        </svg>
      </button>
    </div>
  </div>
  <div id="navbar-collapse-with-animation" class="hs-collapse hidden overflow-hidden transition-all duration-300 basis-full grow sm:block">
    {% set current_page = "/" ~ current_path %}
    {% set selected = "" %}
    {% set selected_style = "text-blue-600 sm:py-6 dark:text-blue-500" %}
    {% set unselected_style = "text-gray-700 hover:text-gray-600 sm:py-6 dark:text-gray-400 dark:hover:text-gray-500" %}
     {% set style = unselected_style %}


    <div id="lfe-main-nav" class="flex flex-col gap-y-4 gap-x-0 mt-5 sm:flex-row sm:items-center sm:justify-end sm:gap-y-0 sm:gap-x-7 sm:mt-0 sm:pl-7">

      {% set href = "/learn/" %}
      {% if current_path == href %}
      {% set selected = "page" %}
      {% set style = selected_style %}
      {% endif %}
      <a class="font-medium {{ style }}" href="{{ href }}" aria-current="{{ selected }}">
        Learn
      </a>
      {% set selected = "" %}
      {% set style = unselected_style %}

      {% set href = "/use/" %}
      {% if current_path == href %}
      {% set selected = "page" %}
      {% set style = selected_style %}
      {% endif %}
      <a class="font-medium {{ style }}" href="{{ href }}" aria-current="{{ selected }}">
        Use
      </a>
      {% set selected = "" %}
      {% set style = unselected_style %}

      {% set href = "/community/" %}
      {% if current_path == href %}
      {% set selected = "page" %}
      {% set style = selected_style %}
      {% endif %}
      <a class="font-medium {{ style }}" href="{{ href }}" aria-current="{{ selected }}">
        Community
      </a>
      {% set selected = "" %}
      {% set style = unselected_style %}
      
      {% set href = "/about/" %}
      {% if current_path == href %}
      {% set selected = "page" %}
      {% set style = selected_style %}
      {% endif %}
      <a class="font-medium {{ style }}" href="{{ href }}" aria-current="{{ selected }}">
        About
      </a>
      {% set selected = "" %}
      {% set style = unselected_style %}
      
      <a class="font-medium text-gray-700 hover:text-gray-600 sm:py-6 dark:text-gray-400 dark:hover:text-gray-500" href="http://blog.lfe.io">
        Blog
      </a>

      <div class="custom-dropdown relative sm:py-4">
        <button id="hs-dropdown-download" type="button" class="custom-dropdown-toggle flex items-center w-full text-gray-700 hover:text-gray-600 font-medium dark:text-gray-400 dark:hover:text-gray-500 ">
          Download
          <svg class="ml-2 w-2.5 h-2.5 text-gray-600" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 5L8.16086 10.6869C8.35239 10.8637 8.64761 10.8637 8.83914 10.6869L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
          </svg>
        </button>

        <div class="custom-dropdown-menu fixed transition-[opacity,margin] duration-[0.1ms] sm:duration-[150ms] sm:w-48 hidden z-[9999] bg-slate-500 sm:shadow-md rounded-md p-2 dark:bg-slate-800 sm:dark:border border-slate-400 dark:border-slate-700 dark:divide-slate-700">
          {% set repo = config.extra.download.repository %}
          {% set prior_release = config.extra.download.prior_release %}
          {% set current_release = config.extra.download.current_release %}
          {% set pre_release = config.extra.download.pre_release %}

          <a class="download bg-green-700 hover:bg-green-800 dark:bg-green-800 dark:hover:bg-green-900"
             href="{{ repo }}/archive/{{ current_release }}.zip">
            Current ({{ current_release }})
          </a>

          <a class="download bg-blue-600 hover:bg-blue-700 dark:bg-blue-800 dark:hover:bg-blue-900"
             href="{{ repo }}/archive/{{ prior_release }}.zip">
            Previous ({{ prior_release }})
          </a>
          <a class="download bg-yellow-600 hover:bg-yellow-700 dark:bg-yellow-700 dark:hover:bg-yellow-800"
             href="{{ repo }}/archive/{{ pre_release }}.zip">
            Development (HEAD)
          </a>
        </div>
      </div>

      <a class="flex items-center gap-x-2 font-medium text-gray-700 hover:text-blue-600 sm:border-l sm:border-gray-300 sm:my-6 sm:pl-6 dark:border-gray-700 dark:text-gray-400 dark:hover:text-blue-500"
         aria-label="Github"
         href="https://github.com/lfe/lfe" >
        <i class="fab fa-github"></i>
      </a>

      <a class="flex items-center gap-x-2 font-medium text-gray-700 hover:text-blue-600 dark:border-gray-700 dark:text-gray-400 dark:hover:text-blue-500"
         aria-label="Mastodon"
         href="https://fosstodon.org/web/@lfe"
         rel="me">
        <i class="fab fa-mastodon"></i>
      </a>

      <!-- search
      <div class="relative mt-4 md:mt-0">
        <span class="absolute inset-y-0 left-0 flex items-center pl-3">
          <svg class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none">
            <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </span>

        <input type="search" id="search" class="w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:outline-none focus:ring focus:ring-opacity-40 focus:ring-blue-300" placeholder="Search" aria-label="Search">

        <div class="search-results" style="display: none;">
          <div class="search-results__items"></div>
        </div>
      </div>
      -->

      <a class="hs-dark-mode-active:hidden block hs-dark-mode group flex items-center text-gray-600 hover:text-blue-600 font-medium dark:text-gray-400 dark:hover:text-gray-500" href="#!" data-hs-theme-click-value="dark">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"/>
        </svg>
      </a>
      <a class="hs-dark-mode-active:block hidden hs-dark-mode group flex items-center text-gray-600 hover:text-blue-600 font-medium dark:text-gray-400 dark:hover:text-gray-500" href="#!" data-hs-theme-click-value="light">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
      </a>

    </div>
  </div>
</nav>
